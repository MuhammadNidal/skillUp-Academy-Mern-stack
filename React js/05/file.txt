useEffect in React JS (Simple & Proper Explanation)
ğŸ”¹ What is useEffect?

ğŸ‘‰ useEffect is a React Hook that is used to do some work after the component is shown on the screen.

ğŸ§  Easy words:
useEffect runs code after React shows the UI.

ğŸ”¹ Why do we use useEffect?
We use useEffect when we want to:
Call an API
Load data
Do something automatically
Run code after render

These are called side effects.
ğŸ”¹ Basic Syntax of useEffect
useEffect(() => {
  // code to run
}, []);

Explanation:

First part () => {} â†’ what work to do
Second part [] â†’ when to do that work

âœ… Simple API GET Request using useEffect
This is the most common and important use case.

ğŸŸ¢ Example: API GET request
import { useEffect, useState } from "react";
function Users() {
  const [users, setUsers] = useState([]);

  useEffect(() => {
    fetch("https://jsonplaceholder.typicode.com/users")
      .then((res) => res.json())
      .then((data) => {
        setUsers(data);
      });
  }, []);

  return (
    <div>
      <h2>User List</h2>
      {users.map((user) => (
        <p key={user.id}>{user.name}</p>
      ))}
    </div>
  );
}

export default Users;

ğŸ§  Line-by-line Explanation (VERY IMPORTANT)
1ï¸âƒ£ useState
const [users, setUsers] = useState([]);


users â†’ store API data
setUsers â†’ update data
[] â†’ empty array because data comes later

2ï¸âƒ£ useEffect
useEffect(() => {

ğŸ‘‰ React says:
â€œRun this code after the component is shownâ€

3ï¸âƒ£ API Call
fetch("https://jsonplaceholder.typicode.com/users")
API is called

Data is requested from server

4ï¸âƒ£ Convert response to JSON
.then((res) => res.json())


Convert API response to usable data
5ï¸âƒ£ Store data in state
.then((data) => {
  setUsers(data);
});


Save API data in users

React re-renders UI
6ï¸âƒ£ Dependency Array
}, []);

This is VERY IMPORTANT ğŸ‘‡

âœ… Dependency Array Explained (Easy)

The dependency array decides WHEN useEffect runs.

ğŸŸ¢ Case 1: Empty Dependency Array []
useEffect(() => {
  // API call
}, []);

ğŸ§  Meaning:

Runs ONLY ONCE

When component loads first time

ğŸ“Œ Perfect for API GET request

ğŸŸ¡ Case 2: With Dependency [value]
useEffect(() => {
  console.log("Count changed");
}, [count]);

ğŸ§  Meaning:

Runs when count changes

Also runs first time

ğŸ”´ Case 3: No Dependency Array
useEffect(() => {
  console.log("Runs every time");
});

ğŸ§  Meaning:

Runs on every render

âŒ Not good for API calls

âœ… Why API Call Should Use [] ?

âŒ Without []:

API will call again and again

Infinite loop

âœ… With []:

API calls only once

Better performance

âœ… Simple Real-Life Example for Students

ğŸ§  Think like this:

Component loads â†’ useEffect runs

API is called â†’ data comes

Data is saved â†’ UI updates

âœ… Very Short Summary (For Students)

useEffect runs code after render

Used for API calls

Dependency array controls when it runs

[] means run once

[value] means run when value changes






import { useState, useEffect } from "react";

function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    console.log("Count updated:", count);
  }, [count]);

  return (
    <div>
      <h2>Count: {count}</h2>
      <button onClick={() => setCount(count + 1)}>
        Increase
      </button>
    </div>
  );
}

export default Counter;







                             ------------------  ADVANCED --------------------------------







1ï¸âƒ£ What is Mount in React?

Mount = Component is added to the screen

ğŸ“Œ Simple words for students:
When a component appears on the screen for the first time â†’ it is mounted
Example
useEffect(() => {
  console.log("Component Mounted");
}, []);


âœ… Runs only once
âœ… Best for API calls, event listeners

2ï¸âƒ£ What is Unmount in React?
Unmount = Component is removed from the screen

ğŸ“Œ Simple words:
When a component disappears from the screen â†’ it is unmounted

Example:
Leaving a page
Hiding a component

Route change
3ï¸âƒ£ What is Cleanup in useEffect?
Cleanup is code that runs when component unmounts

ğŸ“Œ Simple words:
Cleanup means stop or remove things before leaving the component
Why cleanup is important?
Prevent memory leaks
Stop background tasks
Remove event listeners

4ï¸âƒ£ Basic Cleanup Syntax
useEffect(() => {
  // start something

  return () => {
    // cleanup code
  };
}, []);

useEffect(() => {
  const timer = setInterval(() => {
    console.log("Running...");
  }, 6000);

  return () => {
    clearInterval(timer);
  };
}, []);


ğŸ§  Explain to students:
Whatever you return from useEffect is cleanup code

5ï¸âƒ£ addEventListener in useEffect
Problem âŒ (Without cleanup)
useEffect(() => {
  window.addEventListener("resize", () => {
    console.log("Window resized");
  });
}, []);


âŒ Issue:
Listener stays active even after component unmounts

Causes memory leak
6ï¸âƒ£ Correct Way âœ… (With Cleanup)
useEffect(() => {
  const handleResize = () => {
    console.log("Window resized");
  };

  window.addEventListener("resize", handleResize);

  return () => {
    window.removeEventListener("resize", handleResize);
  };
}, []);

What happens step-by-step:
Component mounts â†’ listener added
Window resizes â†’ message logs

Component unmounts â†’ listener removed

7ï¸âƒ£ Real-Life Example (Very Easy)
Example: Fan in a Room ğŸª­
React	Real Life
Component mounts	Enter room
addEventListener	Switch on fan
Component unmounts	Leave room
Cleanup	Switch off fan

ğŸ“Œ Key line to tell students:

Always clean up what you start

8ï¸âƒ£ Another Simple Example (Mouse Move)
useEffect(() => {
  const moveMouse = () => {
    console.log("Mouse moved");
  };

  window.addEventListener("mousemove", moveMouse);

  return () => {
    window.removeEventListener("mousemove", moveMouse);
  };
}, []);

9ï¸âƒ£ Common Student Mistakes ğŸš«

âŒ Forget cleanup
âŒ Create function inside removeEventListener
âŒ Add listener without dependency array
âŒ Multiple listeners added again and again

10ï¸âƒ£ One-Line Summary (Exam / Interview)

Mount â†’ Component added to DOM

Unmount â†’ Component removed from DOM

Cleanup â†’ Code that runs before unmount

addEventListener â†’ Must be added in useEffect and removed in cleanup